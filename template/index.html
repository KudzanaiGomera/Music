<!doctype html>
{% load static %}
<html>
<head>
  <meta charset="utf-8">
  <title>Index home</title>
  <meta name="description" content="Hypertube">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" integrity="sha512-nOQuvD9nKirvxDdvQ9OMqe2dgapbPB7vYAMrzJihw5m+aNcf0dX53m6YxM4LgA9u8e9eg9QX+/+mPu8kCNpV2A==" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}"/> 
</head>

<body>
  <div class="home">
    <h1> Index home</h1>
    <button onclick="link()">Deezer</button>
    <footer>
    <p>Music room</p>
  </footer>
</div>
  <script type="text/javascript">

    }
    async function link()
    {
      console.log('im here')
      var hold =CryptoJS.MD5(Math.random())
      var link_deezer='https://connect.deezer.com/oauth/access_token.php?app_id=440262&secret=e7869287d15cf287412ee1bf64c0cc84&code='+hold
      // fetch(link_deezer).then(res=>console.log("The response",res)).then(data=>console.log(data))
      fetch(link_deezer,{
        method:'POST',
        headers:{ 
          "Content-Type":"application/json",
          "Access-Control-Allow-Origin":"*",
          "mode":"no-cors",
        "Access-Control-Allow-Headers":"Orgin,X-Requested-With,Content-Type,Accept"},

      }).then(res=>{
          return res.json()
        }).then(data=>console.log(data)).catch(error=>console.log(error))
      // const data = await Response.json;
      // console.log(data)
    }
    test1()
  // var 
  // hold =CryptoJS.MD5((Math.random()))
  </script>
</body>
</html>